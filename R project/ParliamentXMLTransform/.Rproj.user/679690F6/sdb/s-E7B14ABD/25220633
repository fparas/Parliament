{
    "contents" : "function (greekMPInformation) \n{\n    require(\"XML\") \n    fileList<-list.files(getwd())\n    \n    \n    #For each conference file\n    \n    for (i in 1:length(fileList)){\n        \n        #initializing template and getting data\n        xml<-xmlParse(\"<xml><akomaNtoso>  <debate name=\\\"Conference\\\"> <meta>   <references source=\\\"#\\\">  </references> </meta> <preface> <docTitle></docTitle> </preface> <debateBody>  </debateBody> </debate></akomaNtoso></xml>\")\n        root<-xmlRoot(xml)\n        date<-fileList[[i]]\n        input<-read.csv(date)\n        \n        parlmembers<-unique(input$SpeakerID)\n        parlmembers<-parlmembers[!is.na(parlmembers)]\n        \n        #Adding Parliament Members\n        for (i in 1:length(parlmembers)){\n            \n            speakerID = greekMPInformation$id[greekMPInformation$id==parlmembers[i]]\n            name = greekMPInformation$name[greekMPInformation$id==parlmembers[i]]\n            \n            node<-newXMLNode(name = \"TLCPerson\", attrs = c(\n                id = speakerID, \n                href = paste0(\"ontology/parlmember/\",speakerID),\n                showAs = as.character(name)\n            )\n            )\n            \n            addChildren(root[[1]][[1]][[1]][[1]],node)\n        }    \n        #Adding Title\n        addChildren(root[[1]][[1]][[2]],newXMLNode(\"docTitle\",paste(\"Συνεδρίαση της βουλης των Ελληνων : \",date)))\n        \n        #Adding speeches\n        \n        for (i in 1:nrow(input)){\n            \n            id = input[i]$SpeakerID\n            name = as.character(greekMPInformation$name[greekMPInformation$id==id])\n            body = as.character(input[i]$SpeechBody)\n                       \n            node<-newXMLNode(name = \"speech\",body, attrs = c(\n                by = id,\n                from = name\n            )\n            )\n            \n            addChildren(root[[1]][[1]][[3]],node)\n        }\n        \n        #Saving file\n        saveXML(xml,paste0(date,\".xml\"),encoding=\"utf-8\")                \n        \n        \n        \n        \n    }\n    \n    \n    \n    \n}\n\n",
    "created" : 1418426854108.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1437591096",
    "id" : "25220633",
    "lastKnownWriteTime" : 1418429192,
    "path" : "C:/Users/FOTIS~1.PAR/AppData/Local/Temp/Rtmp4y3G1r/file254e254478",
    "project_path" : null,
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}